<!DOCTYPE html>
<html>
  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Creando un blog con Jekyll 5 - Modificando el diseño. 2ª parte</title>
	<meta name="description" content="Bienvenid@ a la 5ª entrega del tutorial. En esta entrega vamos a modificar como se muestran las entradas, tanto cuando se muestren todas como cuando solo se ...">

	<link rel="stylesheet" href="/css/normalize.css">
	<link rel="stylesheet" href="/css/monokai.css">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/fontello-embedded.css">
	<link rel="stylesheet" href="/css/animation.css">
	<link rel="canonical" href="http://son-link.github.io/jekyll/2016/06/21/creando-blog-jekyll-5.html">
	<link rel="alternate" type="application/rss+xml" title="Blog de Son Link" href="http://son-link.github.io/feed.xml" />
	<link rel="shortcut icon" href="http://son-link.github.io/favicon.png" type="image/png" />
	<!-- Begin Jekyll SEO tag v2.2.3 -->
<title>Creando un blog con Jekyll 5 - Modificando el diseño. 2ª parte | Blog de Son Link</title>
<meta property="og:title" content="Creando un blog con Jekyll 5 - Modificando el diseño. 2ª parte" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Bienvenid@ a la 5ª entrega del tutorial. En esta entrega vamos a modificar como se muestran las entradas, tanto cuando se muestren todas como cuando solo se muestre una, así como la paginación en la primera." />
<meta property="og:description" content="Bienvenid@ a la 5ª entrega del tutorial. En esta entrega vamos a modificar como se muestran las entradas, tanto cuando se muestren todas como cuando solo se muestre una, así como la paginación en la primera." />
<link rel="canonical" href="http://son-link.github.io/jekyll/2016/06/21/creando-blog-jekyll-5.html" />
<meta property="og:url" content="http://son-link.github.io/jekyll/2016/06/21/creando-blog-jekyll-5.html" />
<meta property="og:site_name" content="Blog de Son Link" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-06-21T00:00:00+02:00" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"BlogPosting","headline":"Creando un blog con Jekyll 5 - Modificando el diseño. 2ª parte","datePublished":"2016-06-21T00:00:00+02:00","dateModified":"2016-06-21T00:00:00+02:00","description":"Bienvenid@ a la 5ª entrega del tutorial. En esta entrega vamos a modificar como se muestran las entradas, tanto cuando se muestren todas como cuando solo se muestre una, así como la paginación en la primera.","mainEntityOfPage":{"@type":"WebPage","@id":"http://son-link.github.io/jekyll/2016/06/21/creando-blog-jekyll-5.html"},"url":"http://son-link.github.io/jekyll/2016/06/21/creando-blog-jekyll-5.html"}</script>
<!-- End Jekyll SEO tag -->

</head>

  <body>
    <header id="header">
	<div id="menu">
		<nav>
			<div id="close-menu"><a class="icon-cancel" title="Cerrar menú"></a></div>
			<div class="hidden-m" id="search-menu">
				<form action="/buscar.html" method="get">
					<input type="text" name="query" placeholder="Buscar....">
					<button type="submit" class="icon-search"></button>
				</form>
			</div>
			<ul>
				
					
						<li><a href="/sobre/">Sobre</a></li>
					
				
					
						<li><a href="/archivo/">Archivo</a></li>
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
						<li><a href="/webs_amigas/">Webs amigas</a></li>
					
				
					
						<li><a href="/proyectos/">Mis proyectos</a></li>
					
				
					
				
					
				
					
				
					
				
					
				
			</ul>
			<div class="hidden-m">
				<span class="menu-title">Sigueme:</span>
				<ul >
					<li><a href="http://github.com/son-link" class="icon-github" title="Github" target="_black"> Github</a></li>
					<li><a href="http://twitter.com/sonlink" class="icon-twitter" title="Twitter" target="_black"> Twitter</a></li>
					<li><a href="https://www.linkedin.com/in/alfonso-saavedra-chichon-35208010b/" class="icon-linkedin" title="Linkedin" target="_black"> Linkedin</a></li>
				</ul>
			</div>
		</nav>
	</div>
	<nav class="navbar">
		<div class="navbar-left" id="logo_menu">
			<button id="toggle-menu" class="icon-menu"></button>
			<a href="/" id="logo">Blog de Son Link</a>&nbsp;
		</div>
		<div class="navbar-right">
			<ul id="my_social_links">
				<li><a href="http://github.com/son-link" class="icon-github" title="Github" target="_black"></a></li>
				<li><a href="http://twitter.com/sonlink" class="icon-twitter" title="Twitter" target="_black"></a></li>
				<li><a href="https://www.linkedin.com/in/alfonso-saavedra-chichon-35208010b/" class="icon-linkedin" title="Linkedin" target="_black"></a></li>
				<li><a href="#" id="search-navbar-btn" class="icon-search" title="buscar"></a></li>
			</ul>
		</div>
		<div id="search-navbar-big">
			<form action="/buscar.html" method="get">
				<input type="text" name="query" placeholder="Buscar....">
			</form>
		</div>
	</nav>
</header>

	<div id="container">
		<h1 class="title">Creando un blog con Jekyll 5 - Modificando el diseño. 2ª parte</h1>
<article id="entry">
	<div class="entry-body">
		<p class="uk-article-meta">Escrito el 21/06/2016</p>
			<p>Bienvenid@ a la 5ª entrega del tutorial. En esta entrega vamos a modificar como se muestran las entradas, tanto cuando se muestren todas como cuando solo se muestre una, así como la paginación en la primera.</p>

<p>Primero vamos a hacer unos ligeros cambios en el archivo <strong>_layouts/default.html</strong></p>

<p>Dentro veremos 2 capas. Borramos una de ellas, dejando <strong>{{content}}</strong> y en la otra cambiamos la clases por <strong>uk-container uk-grid uk-container-center</strong>, quedando algo así:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"uk-container uk-grid uk-container-center"</span><span class="nt">&gt;</span>
	{{ content }}
<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>

<p>Ahora abrimos el archivo <strong>index.html</strong>, que es la pagina de inicio y donde se mostraran las entradas.</p>

<p>Dentro vemos una capa que contiene un <strong>H1</strong> y una lista que contendrá el titulo, enlace y fecha de cada entrada. Lo que haremos sera cambiar dicha lista por los tags <strong>&lt;article&gt;</strong> que contendrá los mismos y ademas un extracto del articulo para que los visitantes vean algo de el para hacerse una idea de su contenido. Esto es opcional, incluso se podría mostrar todo el contenido, pero es algo que no recomiendo si las entradas son muy largas. Y al final veremos un enlace para que la gente se suscriba al feed RSS.</p>

<p>Solo nos falta la parte de la paginación, pero eso más adelante veremos como añadirlo.</p>

<p>Lo primera que haremos es borrar la primera capa que tiene una clase llamada <strong>home</strong>, asi como los tag <strong>&lt;ul&gt;&lt;/ul&gt;</strong> Ahora cambiamos el texto del <strong>H1</strong> por Entradas, Noticias o lo que quieras.</p>

<p>Ahora pasemos al contenido que esta dentro del bucle For. Lo primero que haremos sera cambiar el tag <strong>&lt;li&gt;</strong> por <strong>&lt;article&gt;</strong> y le añadimos la clase <strong>uk-article</strong>. Justo a continuación vamos a añadir un enlace al articulo con el titulo.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"post-link"</span> <span class="na">href=</span><span class="s">"{{ post.url | prepend: site.baseurl }}"</span><span class="nt">&gt;&lt;h1</span> <span class="na">class=</span><span class="s">"uk-article-title"</span><span class="nt">&gt;&lt;/h1&gt;&lt;/a&gt;</span>
</code></pre>
</div>
<p>Como vemos volvemos a usar unas clases especiales de UIKit para este tipo de contenidos y usamos las variables de Jekyll correspondientes. Ademas usamos la función <strong>prepend</strong> de Liquid para que añada la url base que configuramos en _config.yml, que por defecto esta vaciá.</p>

<p>Ahora en el <strong>&lt;span&gt;</strong> que contiene la fecha cambiamos la clase por <strong>uk-article-meta</strong>. Por defecto la fecha que nos muestra una plantilla nueva es en el formato ingles, primero el mes (solo las tres primeras letras, el día y finalmente el año. Liquid tiene una serie de variables para que les demos el formato que queramos, eso si, en el caso de los nombres de los meses y las semanas aparecerán en ingles, si bien a través de un plugin podríamos ponerlos en español, pero es algo que veremos más adelante. Vamos a cambiarlo al formato que entendemos en nuestro idioma, día/mes/año:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code>{{ post.date | date: "%d/%m/%Y" }}
</code></pre>
</div>

<p>Por ejemplo en el caso de esta entrega nos devolvería <strong>21/06/2016</strong></p>

<p>Ahora reemplazamos el <strong>H2</strong> y su contenido por este:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code>
{{ post.content | truncatewords: 50}}<span class="nt">&lt;br&gt;</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ post.url }}"</span><span class="nt">&gt;</span>Seguir leyendo...<span class="nt">&lt;/a&gt;&lt;br&gt;</span>
<span class="nt">&lt;hr</span> <span class="na">class=</span><span class="s">"uk-article-divider"</span><span class="nt">&gt;</span>

</code></pre>
</div>

<p>La primera linea mostrara el contenido, pero solo mostrara, en este caso, 50 palabras. Si queremos mostrar todo el contenido basta con dejar solo <strong>post.content</strong>. Lo siguiente solo es un enlace a la entrada con la frase <strong>Leer más…</strong>. No es necesario, pero a mi gusta por estética. Y lo ultimo es simplemente una barra divisoria entre cada entrada.</p>

<p>El resultado seria algo similar a la siguiente imagen:</p>

<p><img src="/img/tutorial_jekyll/lista_entradas.png" alt="Vista previa lista entradas" /></p>

<p>Para las entradas individuales abrimos el archivo <strong>_layouts/post.html</strong> y simplemente sustituimos el contenido por lo que pusimos dentro del <strong>for</strong>, quitando el enlace de <em>Leer más</em>, el de la cabecera, dejando solo el H1, y el <em>hr</em> y cambiado los <strong>post.</strong> por <strong>page.</strong> y el <strong>{{ post.content }}</strong> por <strong>{{ content }}</strong>. Esto mismo lo podemos aplicar a las paginas, reemplazando el contenido de <strong>loyouts/page.html</strong>, ademas sin el <em>&lt;span&gt;</em> que contiene la fecha ya que las paginas no tienen fecha.</p>

<p>Se pueden añadir más cosas, como enlaces para compartir y un sistema de comentarios, algo que mostrare en próximas entregas.</p>

<p>Ahora vamos a añadir el sistema de paginación. Para ello podemos crear una serie de entradas para hacer pruebas.</p>

<p>Lo primero que tenemos que hacer es instalar el puglin <strong>jekyll-pagination</strong> desde <strong>Gems</strong> por lo que desde una terminal ejecutamos <code class="highlighter-rouge">gem install jekyll-pagination</code></p>

<p>Lo siguiente sera añadir lo siguiente en el fichero <strong>_config.yml</strong>:</p>

<div class="language-yml highlighter-rouge"><pre class="highlight"><code><span class="s">paginate</span><span class="pi">:</span> <span class="s">5</span>
<span class="s">paginate_path</span><span class="pi">:</span> <span class="s2">"</span><span class="s">page:num/"</span>

<span class="s">gems</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">jekyll-paginate</span><span class="pi">]</span>
</code></pre>
</div>

<p>En la primera variable indicamos el numero total de entradas, la segunda sera como serán los enlaces a cada pagina y <strong>:num</strong> sera reemplazado por el numero de la pagina (por ejemplo <strong>page2</strong>). La ultima indica a Jekyll que vamos a usar la gema, por lo que no se ejecutara en el caso de que no este instalada. Una vez guardados los cambios reiniciamos el servidor de Jekyll si lo teníamos ejecutando</p>

<p>Ahora volvamos a abrir el <strong>index.html</strong>. Lo primero que vamos a hacer es modificar el <em>for</em> reemplazando <strong>site.posts</strong> por <strong>paginate.posts</strong></p>

<p>Ahora tras el bucle <em>for</em> añadimos lo siguiente:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code>
{% if paginator.total_pages &gt; 1 %}
	<span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"uk-pagination"</span><span class="nt">&gt;</span>
	{% if paginator.previous_page %}
		<span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}"</span><span class="nt">&gt;</span><span class="ni">&amp;laquo;</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
	{% else %}
		<span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"uk-disabled"</span><span class="nt">&gt;&lt;span&gt;</span><span class="ni">&amp;laquo;</span><span class="nt">&lt;/span&gt;&lt;/li&gt;</span>
	{% endif %}

	{% for page in (1..paginator.total_pages) %}
		{% if page == paginator.page %}
			<span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"uk-active"</span><span class="nt">&gt;&lt;span&gt;</span>{{ page }}<span class="nt">&lt;/span&gt;&lt;/li&gt;</span>
		{% elsif page == 1 %}
			<span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}"</span><span class="nt">&gt;</span>{{ page }}<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
		{% else %}
			<span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ site.paginate_path | prepend: site.baseurl | replace: '//', '/' | replace: ':num', page }}"</span><span class="nt">&gt;</span>{{ page }}<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
		{% endif %}
	{% endfor %}

	{% if paginator.next_page %}
		<span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ paginator.next_page_path | prepend: site.baseurl | replace: '//', '/' }}"</span><span class="nt">&gt;</span><span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
	{% else %}
		<span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"uk-disable"</span><span class="nt">&gt;&lt;span&gt;</span><span class="ni">&amp;raquo;</span><span class="nt">&lt;/span&gt;&lt;/li&gt;</span>
	{% endif %}
	<span class="nt">&lt;/ul&gt;</span>
{% endif %}
</code></pre>
</div>

<p>El primer if comprueba el total de paginas. Si solo hay una pagina simplemente no hace nada. Si hay más de una lo primero que hará sera añadir una lista que contendrá los enlaces a las paginas. El siguiente if comprobara si hay pagina previa, o lo que es lo mismo, que no estemos en la primera pagina. Si es así añadirá un enlace, si no solo mostraría un texto. Lo mismo pasa al final si no estamos en la ultima página.</p>

<p>El <em>for</em> recorrerá desde el 1 hasta el total de paginas que hay en total. El primer if comprueba si el numero corresponde a la pagina actual, y si es así, solo mostrara el numero de la pagina. Si no es así comprobara si page vale 1, ya que apuntara a la baseurl que indicamos en el archivo de configuración. Si no es ninguno de los casos anteriores añadirá el enlace tal y como le indicamos en la variable <strong>paginate_path</strong>. Un ejemplo de dos paginas seria este:</p>

<p><img src="/img/tutorial_jekyll/paginacion.png" alt="Vista previa paginación" /></p>

<p>El que esta en azul es la pagina activa, o sea, donde estamos, y como no hay más paginas el enlace para pasar a la sigiete se vera distinto ya que usa la clase <strong>uk-disable</strong></p>

<p>Y esto es todo de momento. Nos leemos en la próxima entrega ;)</p>

		<ul id="share">
			<li>Compartir:</li>
			<li><a class="btn-twitter icon-twitter" target="_black" href="http://twitter.com/intent/tweet?text=Creando un blog con Jekyll 5 - Modificando el diseño. 2ª parte&url=http://son-link.github.io/jekyll/2016/06/21/creando-blog-jekyll-5.html" uk-icon="icon: twitter"></a></li>
			<li><a class="btn-facebook icon-facebook" target="_black" href="http://www.facebook.com/sharer/sharer.php?u=http://son-link.github.io/jekyll/2016/06/21/creando-blog-jekyll-5.html" uk-icon="icon: facebook"></a></li>
			<li><a class="btn-gplus icon-gplus" target="_black" href="https://plus.google.com/share?url=http://son-link.github.io/jekyll/2016/06/21/creando-blog-jekyll-5.html" uk-icon="icon: google-plus"></a></li>
			<li><a class="btn-whatsapp icon-whatsapp" target="_black" href="whatsapp://send?text=http%3A%2F%2Fson-link.github.io%2Fjekyll%2F2016%2F06%2F21%2Fcreando-blog-jekyll-5.html" uk-icon="icon: whatsapp"></a></li>
		</ul>
		<br /><br />
		<ul class="tag_list">
			<li>Categorias: </li>
			
				<li><a href="/categorias/#jekyll" class="uk-button uk-button-text">jekyll</a></li>
			
		</ul>
		<p>Entradas relacionadas:</p>
		<ul class="entrel">
			
				<li><a href="/blog/2017/07/26/sobre-el-paron.html">Sobre el parón del blog</a></li>
			
				<li><a href="/jekyll/2017/07/26/creando-blog-jekyll-7.html">Creando un blog con Jekyll 7 - Publicando el blog</a></li>
			
				<li><a href="/jekyll/2016/07/13/creando-blog-jekyll-6.html">Creando un blog con Jekyll 6 - Modificando el diseño. 3ª parte</a></li>
			
				<li><a href="/jekyll/2016/06/10/creando-blog-jekyll-4.html">Creando un blog con Jekyll 4 - Modificando el diseño. 1ª parte</a></li>
			
				<li><a href="/jekyll/2016/04/06/creando-blog-jekyll-3.html">Creando un blog con Jekyll 3 - Variables y etiquetas Liquid</a></li>
			
				<li><a href="/jekyll/2016/03/19/creando-blog-jekyll-2.html">Creando un blog con Jekyll 2. Añadiendo entradas y paginas</a></li>
			
				<li><a href="/jekyll/2016/03/18/creando-blog-jekyll-1.html">Creando un blog con Jekyll. 1ª parte</a></li>
			
				<li><a href="/tutoriales/2016/03/15/tutorial-phpexcel-1.html">PHPExcel (1ª parte)</a></li>
			
				<li><a href="/proyectos/2015/10/30/EntroPies-R1.html">EntroPipes (R1)</a></li>
			
				<li><a href="/tutoriales/2015/08/25/montando-servidor-local.html">Montando un mini servidor local en GNU/Linux</a></li>
			
		</ul>
	</div>

</article>
<!-- Disqus comments -->
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = 'http://son-link.github.io/jekyll/2016/06/21/creando-blog-jekyll-5.html';  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = '/jekyll/2016/06/21/creando-blog-jekyll-5.html'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://blogdesonlink.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	</div>
    <footer>
	Blog de Son Link &copy; 2015-2017 Alfonso Saavedra "Son Link"<br />
	Bajo licencia <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_black"><i class="icon-cc" title="Creative Commons"></i><i class="icon-cc-by" title="Reconocimiento"></i><i class="icon-cc-nc-eu" title="No Comercial"></i><i class="icon-cc-sa" title="Compartir Igual"></i> 4.0 Internacional</a>, salvo que se indiquen otros terminos o licencias.
    <br />Blog levantado con <a href="http://jekyllrb.com/" target="_black">Jekyll</a>. Ha sido programado enteramente con Software Libre.
</footer>

<script src="/js/jquery-3.1.0.min.js"></script>
<script src="/js/common.js"></script>
<!--script src="/js/archive.js"></script-->
<script src="/js/google-analytics.js"></script>
<script id="dsq-count-scr" src="//blogdesonlink.disqus.com/count.js" async></script>

  </body>
</html>
